<div class="section-line">
	{{#if sectionIdentifier}}
	<Link
		className="color-bar paragraph-margin"
		style="background-color: {{getChiasmColor(sectionIdentifier)}}"
		parameters="{{ linkParameters }}"
	>
	</Link>
	{{else}}
	<div class="color-bar paragraph-margin"></div>
	{{/if}}

	<div class="section-text">
		{{yield}}
	</div>
	<div class="section-description {{descriptionClass}}">
		{{description || ''}}
	</div>
</div>

<script>
const getChiasmColor = require('lib/chiasm-color')
const { Link } = require('lib/router-instance')

export default {
	data() {
		return {
			descriptionClass: 'paragraph-margin',
			chiasmIdentifier: null,
			sectionIdentifier: null,
			zoomedIn: false
		}
	},
	components: {
		Link
	},
	computed: {
		linkParameters: (chiasmIdentifier, sectionIdentifier, zoomedIn) => {
			return zoomedIn
				? { chiasm: chiasmIdentifier }
				: { chiasm: chiasmIdentifier, section: sectionIdentifier }
		}
	},
	helpers: {
		getChiasmColor
	}
}
</script>
